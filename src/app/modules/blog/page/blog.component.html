<section class="min-h-screen bg-gray-200">
  <div class="text-center pt-16">
    <h1
      class="text-5xl md:text-6xl font-extrabold leading-tighter tracking-tighter mb-4"
    >
      Mis vivencias
      <span
        class="bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400"
        >blog</span
      >
    </h1>
    <div class="max-w-3xl mx-auto">
      <p class="text-xl text-gray-600 mb-8">
        Our landing page template works on all devices, so you only have to set
        it up once, and get beautiful results forever.
      </p>
      <div
        class="max-w-xs mx-auto sm:max-w-none sm:flex sm:justify-center"
      ></div>
    </div>
  </div>

  <div class="pb-16">
    <div class="flex items-center justify-center" *ngIf="user$ | async">
      <add-post (save)="handleSave($event)"></add-post>
    </div>

    <div class="mx-auto max-w-7xl px-8 md:px-6">
      <div class="sm:mb-6">
        <span class="font-medium text-blue-500">Blog</span>
        <h1 class="text-2xl font-bold text-slate-700 sm:text-3xl">
          Ãšltimas publicaciones
        </h1>
      </div>

      <div
        class="bg-gray-200 w-full text-xl md:text-2xl text-gray-800 leading-normal rounded-t"
      >
        <div class="flex flex-wrap -mx-6">
          <ng-container *ngIf="posts$ | async as posts; else loading">
            <ng-container *ngIf="posts.length; else noData">
              <div
                class="w-full duration-200 hover:scale-95 md:w-1/3 p-6 flex flex-col cursor-pointer"
                *ngFor="let post of posts; trackBy: postTrackBy"
                @inOut
              >
                <div
                  class="bg-white rounded-t rounded-b-none overflow-hidden shadow-lg"
                >
                  <a class="flex flex-wrap no-underline">
                    <img
                      [src]="post.image"
                      class="h-64 w-full rounded-t pb-6"
                      onError
                    />
                    <p class="w-full text-gray-600 text-xs md:text-sm px-6">
                      GETTING STARTED
                    </p>
                    <a
                      class="w-full font-bold text-xl text-gray-900 px-6 hover:text-blue-600"
                      [routerLink]="['detail-post', post.id]"
                    >
                      {{ post.title }}
                    </a>
                    <p class="text-gray-800 font-serif text-base px-6 mb-5">
                      {{ post.description }}
                    </p>
                  </a>
                </div>
                <div
                  class="bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6"
                >
                  <div class="flex">
                    <img
                      src="https://zahidul-tailwindcss-website1.netlify.app/images/blog/user-2.png"
                      alt="user img"
                      class="mr-3 h-10 w-10 rounded-full object-cover"
                    />
                    <p class="text-sm font-semibold capitalize text-slate-600">
                      Zahidul Hossain
                      <span class="block text-xs text-slate-400"
                        >web designer</span
                      >
                    </p>
                  </div>
                  <div
                    class="flex items-center justify-center mt-6 gap-1"
                    *ngIf="user$ | async"
                  >
                    <button
                      class="boton-blue"
                      type="button"
                      [routerLink]="['edit-post', post.id]"
                    >
                      Editar
                    </button>

                    <button class="boton-rojo" (click)="deletePost(post.id)">
                      Eliminar
                    </button>
                  </div>
                </div>
              </div>
            </ng-container>
            <ng-template #noData>
              <p class="px-6">No hay posts disponibles.</p>
            </ng-template>
          </ng-container>

          <ng-template #loading>
            <p class="px-6">Cargando posts...</p>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</section>
